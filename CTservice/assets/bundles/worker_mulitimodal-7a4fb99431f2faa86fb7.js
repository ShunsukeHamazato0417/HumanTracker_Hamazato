/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/js/worker_multimodal.js":
/*!****************************************!*\
  !*** ./assets/js/worker_multimodal.js ***!
  \****************************************/
/***/ (() => {

eval("\nconsole.log('WebWorker activate.');\n\nlet send_data;\nlet displaying;\nlet displaying_view;\nlet start = false;\nvar ws_req;\nvar now, data_t, lag;\n\n\nlet domain = 'ws://192.168.50.12:';\nlet port = '8082';\nlet ws_server;\nlet ws;\nlet ws_max_reconnect = 10;\nlet ws_try_reconnect = 0;\nlet ws_try_interval  = 0;\nlet interval = 1;\nlet ty;\n\nself.addEventListener('message', (req) => {\n  if (req.data.ty){\n    ty = req.data.ty;\n    ws_req = { \n\t      ty       : ty,\n        interval : interval \n    }\n    ws_server = domain + port;\n    ws_connect();\n  } else if (req.data.command){\n    if (req.data.command=='reconnect'){\n      ws.close();\n    } else if (req.data.command=='Forced reconnect'){\n      interval++;\n      ws_req = { ty : ty,\n                 interval : interval }\n      console.log(interval);\n      ws.close();\n    }\n  }\n});\n\n\n/* ----- functions ----- */\nvar pre = new Date();\nvar fps;\n\nfunction ws_connect(){\n  ws = new WebSocket(ws_server);\n \n  ws.onopen = function(){\n    ws_try_reconnect = 0;\n    ws_try_interval  = 0;\n    ws.send(JSON.stringify(ws_req));\n    console.log(ws_req);\n    console.log('Connected to WebSocket server: ' + ws_server);\n  };\n\n  ws.onmessage = function(msg){\n    //console.log(msg.data);\n    var json = JSON.parse(msg[0].data);\n    self.postMessage(json);\n  };\n\n  ws.onclose = function incoming(event){\n    ws_try_reconnect++;\n    ws_try_interval++;\n    if (ws_try_reconnect <= 1){\n      console.log('Failed connecting to WebSocket server: ' + ws_server);\n    } else if (ws_try_reconnect >= ws_max_reconnect){\n      console.log('WebSocket server is down.');\n      return;\n    }\n    sleep(ws_try_interval);\n    console.log('Try Reconnecting: ' + ws_try_reconnect);\n    //console.log('ws close.event',event);\n    //console.log('ws.readyState',ws.readyState);\n    ws_connect();\n  };\n}\n\n\nfunction sleep(a){\n  var dt1 = new Date().getTime();\n  var dt2 = new Date().getTime();\n  while (dt2 < dt1 + a*1000){\n    dt2 = new Date().getTime();\n  }\n  return;\n}\n\n\nfunction to_date (time){\n  var pattern = new RegExp('([0-9]{4})/([0-9]{2})/([0-9]{2}).([0-9]{2}):([0-9]{2}):([0-9]{2}).([0-9]{3})', 'g');\n  var result = pattern.exec(time);\n  var year = Number(result[1]);\n  var mon  = Number(result[2]);\n  var day  = Number(result[3]);\n  var hour = Number(result[4]);\n  var min  = Number(result[5]);\n  var sec  = Number(result[6]);\n  var mil  = Number(result[7]);\n\n  var t_result = new Date(year, mon-1, day, hour, min, sec, mil);\n  return t_result;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9hc3NldHMvanMvd29ya2VyX211bHRpbW9kYWwuanMuanMiLCJtYXBwaW5ncyI6IkFBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7O0FBR0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxtQ0FBbUMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL0NUc2VydmljZS8uL2Fzc2V0cy9qcy93b3JrZXJfbXVsdGltb2RhbC5qcz8xZmVjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuY29uc29sZS5sb2coJ1dlYldvcmtlciBhY3RpdmF0ZS4nKTtcblxubGV0IHNlbmRfZGF0YTtcbmxldCBkaXNwbGF5aW5nO1xubGV0IGRpc3BsYXlpbmdfdmlldztcbmxldCBzdGFydCA9IGZhbHNlO1xudmFyIHdzX3JlcTtcbnZhciBub3csIGRhdGFfdCwgbGFnO1xuXG5cbmxldCBkb21haW4gPSAnd3M6Ly8xOTIuMTY4LjUwLjEyOic7XG5sZXQgcG9ydCA9ICc4MDgyJztcbmxldCB3c19zZXJ2ZXI7XG5sZXQgd3M7XG5sZXQgd3NfbWF4X3JlY29ubmVjdCA9IDEwO1xubGV0IHdzX3RyeV9yZWNvbm5lY3QgPSAwO1xubGV0IHdzX3RyeV9pbnRlcnZhbCAgPSAwO1xubGV0IGludGVydmFsID0gMTtcbmxldCB0eTtcblxuc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKHJlcSkgPT4ge1xuICBpZiAocmVxLmRhdGEudHkpe1xuICAgIHR5ID0gcmVxLmRhdGEudHk7XG4gICAgd3NfcmVxID0geyBcblx0ICAgICAgdHkgICAgICAgOiB0eSxcbiAgICAgICAgaW50ZXJ2YWwgOiBpbnRlcnZhbCBcbiAgICB9XG4gICAgd3Nfc2VydmVyID0gZG9tYWluICsgcG9ydDtcbiAgICB3c19jb25uZWN0KCk7XG4gIH0gZWxzZSBpZiAocmVxLmRhdGEuY29tbWFuZCl7XG4gICAgaWYgKHJlcS5kYXRhLmNvbW1hbmQ9PSdyZWNvbm5lY3QnKXtcbiAgICAgIHdzLmNsb3NlKCk7XG4gICAgfSBlbHNlIGlmIChyZXEuZGF0YS5jb21tYW5kPT0nRm9yY2VkIHJlY29ubmVjdCcpe1xuICAgICAgaW50ZXJ2YWwrKztcbiAgICAgIHdzX3JlcSA9IHsgdHkgOiB0eSxcbiAgICAgICAgICAgICAgICAgaW50ZXJ2YWwgOiBpbnRlcnZhbCB9XG4gICAgICBjb25zb2xlLmxvZyhpbnRlcnZhbCk7XG4gICAgICB3cy5jbG9zZSgpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuLyogLS0tLS0gZnVuY3Rpb25zIC0tLS0tICovXG52YXIgcHJlID0gbmV3IERhdGUoKTtcbnZhciBmcHM7XG5cbmZ1bmN0aW9uIHdzX2Nvbm5lY3QoKXtcbiAgd3MgPSBuZXcgV2ViU29ja2V0KHdzX3NlcnZlcik7XG4gXG4gIHdzLm9ub3BlbiA9IGZ1bmN0aW9uKCl7XG4gICAgd3NfdHJ5X3JlY29ubmVjdCA9IDA7XG4gICAgd3NfdHJ5X2ludGVydmFsICA9IDA7XG4gICAgd3Muc2VuZChKU09OLnN0cmluZ2lmeSh3c19yZXEpKTtcbiAgICBjb25zb2xlLmxvZyh3c19yZXEpO1xuICAgIGNvbnNvbGUubG9nKCdDb25uZWN0ZWQgdG8gV2ViU29ja2V0IHNlcnZlcjogJyArIHdzX3NlcnZlcik7XG4gIH07XG5cbiAgd3Mub25tZXNzYWdlID0gZnVuY3Rpb24obXNnKXtcbiAgICAvL2NvbnNvbGUubG9nKG1zZy5kYXRhKTtcbiAgICB2YXIganNvbiA9IEpTT04ucGFyc2UobXNnWzBdLmRhdGEpO1xuICAgIHNlbGYucG9zdE1lc3NhZ2UoanNvbik7XG4gIH07XG5cbiAgd3Mub25jbG9zZSA9IGZ1bmN0aW9uIGluY29taW5nKGV2ZW50KXtcbiAgICB3c190cnlfcmVjb25uZWN0Kys7XG4gICAgd3NfdHJ5X2ludGVydmFsKys7XG4gICAgaWYgKHdzX3RyeV9yZWNvbm5lY3QgPD0gMSl7XG4gICAgICBjb25zb2xlLmxvZygnRmFpbGVkIGNvbm5lY3RpbmcgdG8gV2ViU29ja2V0IHNlcnZlcjogJyArIHdzX3NlcnZlcik7XG4gICAgfSBlbHNlIGlmICh3c190cnlfcmVjb25uZWN0ID49IHdzX21heF9yZWNvbm5lY3Qpe1xuICAgICAgY29uc29sZS5sb2coJ1dlYlNvY2tldCBzZXJ2ZXIgaXMgZG93bi4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2xlZXAod3NfdHJ5X2ludGVydmFsKTtcbiAgICBjb25zb2xlLmxvZygnVHJ5IFJlY29ubmVjdGluZzogJyArIHdzX3RyeV9yZWNvbm5lY3QpO1xuICAgIC8vY29uc29sZS5sb2coJ3dzIGNsb3NlLmV2ZW50JyxldmVudCk7XG4gICAgLy9jb25zb2xlLmxvZygnd3MucmVhZHlTdGF0ZScsd3MucmVhZHlTdGF0ZSk7XG4gICAgd3NfY29ubmVjdCgpO1xuICB9O1xufVxuXG5cbmZ1bmN0aW9uIHNsZWVwKGEpe1xuICB2YXIgZHQxID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIHZhciBkdDIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgd2hpbGUgKGR0MiA8IGR0MSArIGEqMTAwMCl7XG4gICAgZHQyID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cbiAgcmV0dXJuO1xufVxuXG5cbmZ1bmN0aW9uIHRvX2RhdGUgKHRpbWUpe1xuICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoJyhbMC05XXs0fSkvKFswLTldezJ9KS8oWzAtOV17Mn0pLihbMC05XXsyfSk6KFswLTldezJ9KTooWzAtOV17Mn0pLihbMC05XXszfSknLCAnZycpO1xuICB2YXIgcmVzdWx0ID0gcGF0dGVybi5leGVjKHRpbWUpO1xuICB2YXIgeWVhciA9IE51bWJlcihyZXN1bHRbMV0pO1xuICB2YXIgbW9uICA9IE51bWJlcihyZXN1bHRbMl0pO1xuICB2YXIgZGF5ICA9IE51bWJlcihyZXN1bHRbM10pO1xuICB2YXIgaG91ciA9IE51bWJlcihyZXN1bHRbNF0pO1xuICB2YXIgbWluICA9IE51bWJlcihyZXN1bHRbNV0pO1xuICB2YXIgc2VjICA9IE51bWJlcihyZXN1bHRbNl0pO1xuICB2YXIgbWlsICA9IE51bWJlcihyZXN1bHRbN10pO1xuXG4gIHZhciB0X3Jlc3VsdCA9IG5ldyBEYXRlKHllYXIsIG1vbi0xLCBkYXksIGhvdXIsIG1pbiwgc2VjLCBtaWwpO1xuICByZXR1cm4gdF9yZXN1bHQ7XG59XG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./assets/js/worker_multimodal.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./assets/js/worker_multimodal.js"]();
/******/ 	
/******/ })()
;